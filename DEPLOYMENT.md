# üöÄ DigitalOcean App Platform Deployment Guide

## üìã Pre-Deployment Checklist

### ‚úÖ What's Already Prepared:
- [x] DigitalOcean App Platform configuration (`.do/app.yaml`)
- [x] Frontend optimized for production builds
- [x] Backend FastAPI application ready
- [x] Environment variables configured
- [x] Database connection string format
- [x] CORS settings for production

### üîß Next Steps:

## 1. **Push Code to GitHub**
```bash
# Make sure all changes are committed and pushed
git add .
git commit -m "feat: prepare for DigitalOcean deployment"
git push origin main
```

## 2. **Create DigitalOcean App**

### Option A: Using the App Platform Dashboard
1. Go to [DigitalOcean App Platform](https://cloud.digitalocean.com/apps)
2. Click **"Create App"**
3. Choose **"GitHub"** as source
4. Select repository: `harshajustin/resume-optimizer-studio`
5. Choose branch: `main`
6. **Import from existing spec file**: Upload `.do/app.yaml`

### Option B: Using DigitalOcean CLI (doctl)
```bash
# Install doctl if not already installed
brew install doctl

# Authenticate
doctl auth init

# Create app from spec
doctl apps create --spec .do/app.yaml
```

## 3. **Environment Variables Setup**

### Required Secrets (Set in DO App Platform):
- `DATABASE_URL` - Will be auto-generated by managed database
- `JWT_SECRET_KEY` - Already set in app.yaml
- `DO_SPACES_ACCESS_KEY` - Your DigitalOcean Spaces key
- `DO_SPACES_SECRET_KEY` - Your DigitalOcean Spaces secret
- `OPENAI_API_KEY` - Your OpenAI API key (optional)

### Auto-Generated Variables:
- `VITE_API_URL` - Automatically set to backend URL
- `ALLOWED_ORIGINS` - Automatically includes frontend URL

## 4. **Database Setup**
The app.yaml includes a managed PostgreSQL database that will:
- Automatically create a PostgreSQL 15 instance
- Generate `DATABASE_URL` environment variable
- Handle SSL connections automatically

## 5. **Domain Configuration** (Optional)
After deployment, you can:
1. Use the auto-generated `.ondigitalocean.app` domain
2. Add a custom domain in the App Platform settings
3. SSL certificates are automatically managed

## 6. **Post-Deployment Steps**

### Test the Application:
1. **Frontend**: `https://your-app-name.ondigitalocean.app`
2. **Backend API**: `https://your-app-name.ondigitalocean.app/api/v1`
3. **API Docs**: `https://your-app-name.ondigitalocean.app/docs`

### Run Database Migrations:
```bash
# Access your app's console in DigitalOcean
# Run migrations (if needed)
python run_migration.py
```

## 7. **Monitoring & Logs**
- View application logs in the DigitalOcean dashboard
- Monitor resource usage and performance
- Set up alerts for downtime or errors

## üìä **Expected Costs**
- **Frontend**: Basic XXS instance (~$5/month)
- **Backend**: Basic XXS instance (~$5/month)  
- **Database**: Basic managed PostgreSQL (~$15/month)
- **Total**: ~$25/month

## üîß **Scaling Options**
- Increase instance sizes as needed
- Add horizontal scaling for high traffic
- Enable autoscaling based on CPU/memory usage
- Add Redis for caching (configured in app.yaml)

## üö® **Important Security Notes**
- All secrets are properly configured as environment variables
- HTTPS is enforced by default
- Database connections use SSL
- CORS is configured for production domains
- Debug mode is disabled in production

## üìù **Configuration Files Created**
- `.do/app.yaml` - DigitalOcean App Platform specification
- `.env.production` - Production environment template
- Updated CORS settings for production

Your application is now ready for deployment! üéâ
